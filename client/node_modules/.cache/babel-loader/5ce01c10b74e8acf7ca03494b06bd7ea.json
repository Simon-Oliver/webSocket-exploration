{"ast":null,"code":"import _defineProperty from \"/Users/Simon/Desktop/Coding/websocket-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Simon/Desktop/Coding/websocket-test/client/src/Components/Order/AddOrder.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport './AddOrder.css';\nimport EditOrderModal from '../Modals/EditOrderModal';\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\nconst client = new W3CWebSocket('ws://192.168.1.11:8000');\n\nconst uuidv1 = require('uuid/v1');\n\nclass AddOrder extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: [],\n      newOrder: {\n        orderItem: '',\n        orderCount: '',\n        id: ''\n      },\n      modalIsOpen: false,\n      selectedItem: {}\n    };\n\n    this.handleOnChange = e => {\n      const key = e.target.id;\n      const data = e.target.value;\n      this.setState(prevState => ({\n        newOrder: _objectSpread({}, prevState.newOrder, {\n          [key]: data\n        })\n      }));\n    };\n\n    this.handleOnSubmit = e => {\n      e.preventDefault();\n      this.setState(prevState => ({\n        newOrder: _objectSpread({}, prevState.newOrder, {\n          id: uuidv1()\n        })\n      }), () => {\n        this.setState(prevState => ({\n          orders: [...prevState.orders, this.state.newOrder]\n        }), () => this.setState({\n          newOrder: {\n            id: '',\n            orderCount: '',\n            orderItem: ''\n          }\n        }));\n      });\n    };\n\n    this.handleSelect = selected => {\n      const itemId = selected.target.dataset.key;\n      const selectedItem = this.state.orders.filter(e => e.id === itemId)[0];\n      console.log(selectedItem);\n      this.setState({\n        selectedItem\n      }); //this.handleShow(itemId);\n    };\n\n    this.renderList = () => {\n      const item = this.state.orders.map(item => React.createElement(\"li\", {\n        className: \"collection-item display-order\",\n        key: item.id,\n        \"data-key\": item.id,\n        onClick: e => this.handleSelect(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"display-order-count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, item.orderCount, \"x\")), React.createElement(\"div\", {\n        className: \"display-order-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, item.orderItem)));\n      return item;\n    };\n\n    this.handleHide = () => {\n      this.setState(prevState => {\n        modalIsOpen: !this.prevState.modalIsOpen;\n      });\n    };\n\n    this.updateOrder = (id, data) => {\n      //const oldData = this.state.orders.filter(e => e.id !== id);\n      console.log(data);\n    };\n  }\n\n  // handleShow = data => {\n  //   console.log(selectedItem[0]);\n  //   //this.setState({ modalIsOpen: true });\n  // };\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(EditOrderModal, {\n      data: this.state.selectedItem,\n      updateOrder: this.updateOrder,\n      isOpen: this.state.modalIsOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"collection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.orders.length > 0 ? this.renderList() : React.createElement(\"p\", {\n      className: \"orderItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Enter Order\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"col s12\",\n      onChange: e => this.handleOnChange(e),\n      onSubmit: e => this.handleOnSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-field col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"orderCount\",\n      type: \"number\",\n      className: \"validate\",\n      value: this.state.newOrder.orderCount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"orderCount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Amount\")), React.createElement(\"div\", {\n      className: \"input-field col s9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"orderItem\",\n      type: \"text\",\n      className: \"validate\",\n      value: this.state.newOrder.orderItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"orderItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Order Title\")), React.createElement(\"button\", {\n      className: \"btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Add Order\")))));\n  }\n\n}\n\nexport default AddOrder;","map":{"version":3,"sources":["/Users/Simon/Desktop/Coding/websocket-test/client/src/Components/Order/AddOrder.js"],"names":["React","EditOrderModal","w3cwebsocket","W3CWebSocket","client","uuidv1","require","AddOrder","Component","state","orders","newOrder","orderItem","orderCount","id","modalIsOpen","selectedItem","handleOnChange","e","key","target","data","value","setState","prevState","handleOnSubmit","preventDefault","handleSelect","selected","itemId","dataset","filter","console","log","renderList","item","map","handleHide","updateOrder","render","length"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,gBAAP;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,SAASC,YAAY,IAAIC,YAAzB,QAA6C,WAA7C;AACA,MAAMC,MAAM,GAAG,IAAID,YAAJ,CAAiB,wBAAjB,CAAf;;AACA,MAAME,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAtB;;AAEA,MAAMC,QAAN,SAAuBP,KAAK,CAACQ,SAA7B,CAAuC;AAAA;AAAA;AAAA,SACrCC,KADqC,GAC7B;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,SAAS,EAAE,EAAb;AAAiBC,QAAAA,UAAU,EAAE,EAA7B;AAAiCC,QAAAA,EAAE,EAAE;AAArC,OAFJ;AAGNC,MAAAA,WAAW,EAAE,KAHP;AAINC,MAAAA,YAAY,EAAE;AAJR,KAD6B;;AAAA,SAQrCC,cARqC,GAQpBC,CAAC,IAAI;AACpB,YAAMC,GAAG,GAAGD,CAAC,CAACE,MAAF,CAASN,EAArB;AACA,YAAMO,IAAI,GAAGH,CAAC,CAACE,MAAF,CAASE,KAAtB;AACA,WAAKC,QAAL,CAAcC,SAAS,KAAK;AAAEb,QAAAA,QAAQ,oBAAOa,SAAS,CAACb,QAAjB;AAA2B,WAACQ,GAAD,GAAOE;AAAlC;AAAV,OAAL,CAAvB;AACD,KAZoC;;AAAA,SAcrCI,cAdqC,GAcpBP,CAAC,IAAI;AACpBA,MAAAA,CAAC,CAACQ,cAAF;AACA,WAAKH,QAAL,CACEC,SAAS,KAAK;AAAEb,QAAAA,QAAQ,oBAAOa,SAAS,CAACb,QAAjB;AAA2BG,UAAAA,EAAE,EAAET,MAAM;AAArC;AAAV,OAAL,CADX,EAEE,MAAM;AACJ,aAAKkB,QAAL,CACEC,SAAS,KAAK;AAAEd,UAAAA,MAAM,EAAE,CAAC,GAAGc,SAAS,CAACd,MAAd,EAAsB,KAAKD,KAAL,CAAWE,QAAjC;AAAV,SAAL,CADX,EAEE,MAAM,KAAKY,QAAL,CAAc;AAAEZ,UAAAA,QAAQ,EAAE;AAAEG,YAAAA,EAAE,EAAE,EAAN;AAAUD,YAAAA,UAAU,EAAE,EAAtB;AAA0BD,YAAAA,SAAS,EAAE;AAArC;AAAZ,SAAd,CAFR;AAID,OAPH;AASD,KAzBoC;;AAAA,SA2BrCe,YA3BqC,GA2BtBC,QAAQ,IAAI;AACzB,YAAMC,MAAM,GAAGD,QAAQ,CAACR,MAAT,CAAgBU,OAAhB,CAAwBX,GAAvC;AACA,YAAMH,YAAY,GAAG,KAAKP,KAAL,CAAWC,MAAX,CAAkBqB,MAAlB,CAAyBb,CAAC,IAAIA,CAAC,CAACJ,EAAF,KAASe,MAAvC,EAA+C,CAA/C,CAArB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYjB,YAAZ;AACA,WAAKO,QAAL,CAAc;AAAEP,QAAAA;AAAF,OAAd,EAJyB,CAKzB;AACD,KAjCoC;;AAAA,SAmCrCkB,UAnCqC,GAmCxB,MAAM;AACjB,YAAMC,IAAI,GAAG,KAAK1B,KAAL,CAAWC,MAAX,CAAkB0B,GAAlB,CAAsBD,IAAI,IACrC;AACE,QAAA,SAAS,EAAC,+BADZ;AAEE,QAAA,GAAG,EAAEA,IAAI,CAACrB,EAFZ;AAGE,oBAAUqB,IAAI,CAACrB,EAHjB;AAIE,QAAA,OAAO,EAAEI,CAAC,IAAI,KAAKS,YAAL,CAAkBT,CAAlB,CAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOiB,IAAI,CAACtB,UAAZ,MADF,CANF,EASE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqCsB,IAAI,CAACvB,SAA1C,CATF,CADW,CAAb;AAaA,aAAOuB,IAAP;AACD,KAlDoC;;AAAA,SAoDrCE,UApDqC,GAoDxB,MAAM;AACjB,WAAKd,QAAL,CAAcC,SAAS,IAAI;AACzBT,QAAAA,WAAW,EAAE,CAAC,KAAKS,SAAL,CAAeT,WAAhB;AACd,OAFD;AAGD,KAxDoC;;AAAA,SA0DrCuB,WA1DqC,GA0DvB,CAACxB,EAAD,EAAKO,IAAL,KAAc;AAC1B;AACAW,MAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AACD,KA7DoC;AAAA;;AA+DrC;AACA;AACA;AACA;AAEAkB,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,cAAD;AACE,MAAA,IAAI,EAAE,KAAK9B,KAAL,CAAWO,YADnB;AAEE,MAAA,WAAW,EAAE,KAAKsB,WAFpB;AAGE,MAAA,MAAM,EAAE,KAAK7B,KAAL,CAAWM,WAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKN,KAAL,CAAWC,MAAX,CAAkB8B,MAAlB,GAA2B,CAA3B,GACC,KAAKN,UAAL,EADD,GAGC;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJJ,CANF,EAcE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,SADZ;AAEE,MAAA,QAAQ,EAAEhB,CAAC,IAAI,KAAKD,cAAL,CAAoBC,CAApB,CAFjB;AAGE,MAAA,QAAQ,EAAEA,CAAC,IAAI,KAAKO,cAAL,CAAoBP,CAApB,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,YADL;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,SAAS,EAAC,UAHZ;AAIE,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWE,QAAX,CAAoBE,UAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AAAO,MAAA,OAAO,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,CADF,EAUE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,WADL;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,SAAS,EAAC,UAHZ;AAIE,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,QAAX,CAAoBC,SAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AAAO,MAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPF,CAVF,EAmBE;AAAQ,MAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAnBF,CALF,CADF,CAdF,CADF;AA8CD;;AAnHoC;;AAsHvC,eAAeL,QAAf","sourcesContent":["import React from 'react';\nimport './AddOrder.css';\nimport EditOrderModal from '../Modals/EditOrderModal';\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\nconst client = new W3CWebSocket('ws://192.168.1.11:8000');\nconst uuidv1 = require('uuid/v1');\n\nclass AddOrder extends React.Component {\n  state = {\n    orders: [],\n    newOrder: { orderItem: '', orderCount: '', id: '' },\n    modalIsOpen: false,\n    selectedItem: {}\n  };\n\n  handleOnChange = e => {\n    const key = e.target.id;\n    const data = e.target.value;\n    this.setState(prevState => ({ newOrder: { ...prevState.newOrder, [key]: data } }));\n  };\n\n  handleOnSubmit = e => {\n    e.preventDefault();\n    this.setState(\n      prevState => ({ newOrder: { ...prevState.newOrder, id: uuidv1() } }),\n      () => {\n        this.setState(\n          prevState => ({ orders: [...prevState.orders, this.state.newOrder] }),\n          () => this.setState({ newOrder: { id: '', orderCount: '', orderItem: '' } })\n        );\n      }\n    );\n  };\n\n  handleSelect = selected => {\n    const itemId = selected.target.dataset.key;\n    const selectedItem = this.state.orders.filter(e => e.id === itemId)[0];\n    console.log(selectedItem);\n    this.setState({ selectedItem });\n    //this.handleShow(itemId);\n  };\n\n  renderList = () => {\n    const item = this.state.orders.map(item => (\n      <li\n        className=\"collection-item display-order\"\n        key={item.id}\n        data-key={item.id}\n        onClick={e => this.handleSelect(e)}\n      >\n        <div className=\"display-order-count\">\n          <span>{item.orderCount}x</span>\n        </div>\n        <div className=\"display-order-item\">{item.orderItem}</div>\n      </li>\n    ));\n    return item;\n  };\n\n  handleHide = () => {\n    this.setState(prevState => {\n      modalIsOpen: !this.prevState.modalIsOpen;\n    });\n  };\n\n  updateOrder = (id, data) => {\n    //const oldData = this.state.orders.filter(e => e.id !== id);\n    console.log(data);\n  };\n\n  // handleShow = data => {\n  //   console.log(selectedItem[0]);\n  //   //this.setState({ modalIsOpen: true });\n  // };\n\n  render() {\n    return (\n      <div>\n        <EditOrderModal\n          data={this.state.selectedItem}\n          updateOrder={this.updateOrder}\n          isOpen={this.state.modalIsOpen}\n        ></EditOrderModal>\n        <ul className=\"collection\">\n          {this.state.orders.length > 0 ? (\n            this.renderList()\n          ) : (\n            <p className=\"orderItem\">Enter Order</p>\n          )}\n        </ul>\n\n        <div className=\"row\">\n          <form\n            className=\"col s12\"\n            onChange={e => this.handleOnChange(e)}\n            onSubmit={e => this.handleOnSubmit(e)}\n          >\n            <div className=\"row\">\n              <div className=\"input-field col s3\">\n                <input\n                  id=\"orderCount\"\n                  type=\"number\"\n                  className=\"validate\"\n                  value={this.state.newOrder.orderCount}\n                />\n                <label htmlFor=\"orderCount\">Amount</label>\n              </div>\n              <div className=\"input-field col s9\">\n                <input\n                  id=\"orderItem\"\n                  type=\"text\"\n                  className=\"validate\"\n                  value={this.state.newOrder.orderItem}\n                />\n                <label htmlFor=\"orderItem\">Order Title</label>\n              </div>\n              <button className=\"btn\">Add Order</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddOrder;\n"]},"metadata":{},"sourceType":"module"}